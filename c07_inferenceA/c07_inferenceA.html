<!DOCTYPE html>
<html lang="en"><head>
<script src="../libs/clipboard/clipboard.min.js"></script>
<script src="../libs/quarto-html/tabby.min.js"></script>
<script src="../libs/quarto-html/popper.min.js"></script>
<script src="../libs/quarto-html/tippy.umd.min.js"></script>
<link href="../libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../libs/quarto-html/light-border.css" rel="stylesheet">
<link href="../libs/quarto-html/quarto-html.min.css" rel="stylesheet" data-mode="light">
<link href="../libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles"><meta charset="utf-8">
  <meta name="generator" content="quarto-1.3.433">

  <title>Inference - Part A</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="../libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="../libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
      vertical-align: middle;
    }
    /* CSS for syntax highlighting */
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
      }
    pre.numberSource { margin-left: 3em;  padding-left: 4px; }
    div.sourceCode
      { color: #24292e;  }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span { color: #24292e; } /* Normal */
    code span.al { color: #ff5555; font-weight: bold; } /* Alert */
    code span.an { color: #6a737d; } /* Annotation */
    code span.at { color: #d73a49; } /* Attribute */
    code span.bn { color: #005cc5; } /* BaseN */
    code span.bu { color: #d73a49; } /* BuiltIn */
    code span.cf { color: #d73a49; } /* ControlFlow */
    code span.ch { color: #032f62; } /* Char */
    code span.cn { color: #005cc5; } /* Constant */
    code span.co { color: #6a737d; } /* Comment */
    code span.cv { color: #6a737d; } /* CommentVar */
    code span.do { color: #6a737d; } /* Documentation */
    code span.dt { color: #d73a49; } /* DataType */
    code span.dv { color: #005cc5; } /* DecVal */
    code span.er { color: #ff5555; text-decoration: underline; } /* Error */
    code span.ex { color: #d73a49; font-weight: bold; } /* Extension */
    code span.fl { color: #005cc5; } /* Float */
    code span.fu { color: #6f42c1; } /* Function */
    code span.im { color: #032f62; } /* Import */
    code span.in { color: #6a737d; } /* Information */
    code span.kw { color: #d73a49; } /* Keyword */
    code span.op { color: #24292e; } /* Operator */
    code span.ot { color: #6f42c1; } /* Other */
    code span.pp { color: #d73a49; } /* Preprocessor */
    code span.re { color: #6a737d; } /* RegionMarker */
    code span.sc { color: #005cc5; } /* SpecialChar */
    code span.ss { color: #032f62; } /* SpecialString */
    code span.st { color: #032f62; } /* String */
    code span.va { color: #e36209; } /* Variable */
    code span.vs { color: #032f62; } /* VerbatimString */
    code span.wa { color: #ff5555; } /* Warning */
  </style>
  <link rel="stylesheet" href="../libs/revealjs/dist/theme/quarto.css">
  <link rel="stylesheet" href="../slides_quarto.css">
  <link href="../libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="../libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="../libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="../libs/revealjs/plugin/reveal-chalkboard/font-awesome/css/all.css" rel="stylesheet">
  <link href="../libs/revealjs/plugin/reveal-chalkboard/style.css" rel="stylesheet">
  <link href="../libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">

  .callout {
    margin-top: 1em;
    margin-bottom: 1em;  
    border-radius: .25rem;
  }

  .callout.callout-style-simple { 
    padding: 0em 0.5em;
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
    display: flex;
  }

  .callout.callout-style-default {
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
  }

  .callout .callout-body-container {
    flex-grow: 1;
  }

  .callout.callout-style-simple .callout-body {
    font-size: 1rem;
    font-weight: 400;
  }

  .callout.callout-style-default .callout-body {
    font-size: 0.9rem;
    font-weight: 400;
  }

  .callout.callout-titled.callout-style-simple .callout-body {
    margin-top: 0.2em;
  }

  .callout:not(.callout-titled) .callout-body {
      display: flex;
  }

  .callout:not(.no-icon).callout-titled.callout-style-simple .callout-content {
    padding-left: 1.6em;
  }

  .callout.callout-titled .callout-header {
    padding-top: 0.2em;
    margin-bottom: -0.2em;
  }

  .callout.callout-titled .callout-title  p {
    margin-top: 0.5em;
    margin-bottom: 0.5em;
  }
    
  .callout.callout-titled.callout-style-simple .callout-content  p {
    margin-top: 0;
  }

  .callout.callout-titled.callout-style-default .callout-content  p {
    margin-top: 0.7em;
  }

  .callout.callout-style-simple div.callout-title {
    border-bottom: none;
    font-size: .9rem;
    font-weight: 600;
    opacity: 75%;
  }

  .callout.callout-style-default  div.callout-title {
    border-bottom: none;
    font-weight: 600;
    opacity: 85%;
    font-size: 0.9rem;
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-default div.callout-content {
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-simple .callout-icon::before {
    height: 1rem;
    width: 1rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 1rem 1rem;
  }

  .callout.callout-style-default .callout-icon::before {
    height: 0.9rem;
    width: 0.9rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 0.9rem 0.9rem;
  }

  .callout-title {
    display: flex
  }
    
  .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  .callout.no-icon::before {
    display: none !important;
  }

  .callout.callout-titled .callout-body > .callout-content > :last-child {
    margin-bottom: 0.5rem;
  }

  .callout.callout-titled .callout-icon::before {
    margin-top: .5rem;
    padding-right: .5rem;
  }

  .callout:not(.callout-titled) .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  /* Callout Types */

  div.callout-note {
    border-left-color: #4582ec !important;
  }

  div.callout-note .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEU0lEQVRYCcVXTWhcVRQ+586kSUMMxkyaElstCto2SIhitS5Ek8xUKV2poatCcVHtUlFQk8mbaaziwpWgglJwVaquitBOfhQXFlqlzSJpFSpIYyXNjBNiTCck7x2/8/LeNDOZxDuEkgOXe++553zfefee+/OYLOXFk3+1LLrRdiO81yNqZ6K9cG0P3MeFaMIQjXssE8Z1JzLO9ls20MBZX7oG8w9GxB0goaPrW5aNMp1yOZIa7Wv6o2ykpLtmAPs/vrG14Z+6d4jpbSKuhdcSyq9wGMPXjonwmESXrriLzFGOdDBLB8Y6MNYBu0dRokSygMA/mrun8MGFN3behm6VVAwg4WR3i6FvYK1T7MHo9BK7ydH+1uurECoouk5MPRyVSBrBHMYwVobG2aOXM07sWrn5qgB60rc6mcwIDJtQrnrEr44kmy+UO9r0u9O5/YbkS9juQckLed3DyW2XV/qWBBB3ptvI8EUY3I9p/67OW+g967TNr3Sotn3IuVlfMLVnsBwH4fsnebJvyGm5GeIUA3jljERmrv49SizPYuq+z7c2H/jlGC+Ghhupn/hcapqmcudB9jwJ/3jvnvu6vu5lVzF1fXyZuZZ7U8nRmVzytvT+H3kilYvH09mLWrQdwFSsFEsxFVs5fK7A0g8gMZjbif4ACpKbjv7gNGaD8bUrlk8x+KRflttr22JEMRUbTUwwDQScyzPgedQHZT0xnx7ujw2jfVfExwYHwOsDTjLdJ2ebmeQIlJ7neo41s/DrsL3kl+W2lWvAga0tR3zueGr6GL78M3ifH0rGXrBC2aAR8uYcIA5gwV8zIE8onoh8u0Fca/ciF7j1uOzEnqcIm59sEXoGc0+z6+H45V1CvAvHcD7THztu669cnp+L0okAeIc6zjbM/24LgGM1gZk7jnRu1aQWoU9sfUOuhrmtaPIO3YY1KLLWZaEO5TKUbMY5zx8W9UJ6elpLwKXbsaZ4EFl7B4bMtDv0iRipKoDQT2sNQI9b1utXFdYisi+wzZ/ri/1m7QfDgEuvgUUEIJPq3DhX/5DWNqIXDOweC2wvIR90Oq3lDpdMIgD2r0dXvGdsEW5H6x6HLRJYU7C69VefO1x8Gde1ZFSJLfWS1jbCnhtOPxmpfv2LXOA2Xk2tvnwKKPFuZ/oRmwBwqRQDcKNeVQkYcOjtWVBuM/JuYw5b6isojIkYxyYAFn5K7ZBF10fea52y8QltAg6jnMqNHFBmGkQ1j+U43HMi2xMar1Nv0zGsf1s8nUsmUtPOOrbFIR8bHFDMB5zL13Gmr/kGlCkUzedTzzmzsaJXhYawnA3UmARpiYj5ooJZiUoxFRtK3X6pgNPv+IZVPcnwbOl6f+aBaO1CNvPW9n9LmCp01nuSaTRF2YxHqZ8DYQT6WsXT+RD6eUztwYLZ8rM+rcPxamv1VQzFUkzFXvkiVrySGQgJNvXHJAxiU3/NwiC03rSf05VBaPtu/Z7/B8Yn/w7eguloAAAAAElFTkSuQmCC');
  }

  div.callout-note.callout-style-default .callout-title {
    background-color: #dae6fb
  }

  div.callout-important {
    border-left-color: #d9534f !important;
  }

  div.callout-important .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEKklEQVRYCcVXTWhcVRS+575MJym48A+hSRFr00ySRQhURRfd2HYjk2SSTokuBCkU2o0LoSKKraKIBTcuFCoidGFD08nkBzdREbpQ1EDNIv8qSGMFUboImMSZd4/f9zJv8ibJMC8xJQfO3HPPPef7zrvvvnvviIkpC9nsw0UttFunbUhpFzFtarSd6WJkStVMw5xyVqYTvkwfzuf/5FgtkVoB0729j1rjXwThS7Vio+Mo6DNnvLfahoZ+i/o32lULuJ3NNiz7q6+pyAUkJaFF6JwaM2lUJlV0MlnQn5aTRbEu0SEqHUa0A4AdiGuB1kFXRfVyg5d87+Dg4DL6m2TLAub60ilj7A1Ec4odSAc8X95sHh7+ZRPCFo6Fnp7HfU/fBng/hi10CjCnWnJjsxvDNxWw0NfV6Rv5GgP3I3jGWXumdTD/3cbEOP2ZbOZp69yniG3FQ9z1jD7bnBu9Fc2tKGC2q+uAJOQHBDRiZX1x36o7fWBs7J9ownbtO+n0/qWkvW7UPIfc37WgT6ZGR++EOJyeQDSb9UB+DZ1G6DdLDzyS+b/kBCYGsYgJbSQHuThGKRcw5xdeQf8YdNHsc6ePXrlSYMBuSIAFTGAtQo+VuALo4BX83N190NWZWbynBjhOHsmNfFWLeL6v+ynsA58zDvvAC8j5PkbOcXCMg2PZFk3q8MjI7WAG/Dp9AwP7jdGBOOQkAvlFUB+irtm16I1Zw9YBcpGTGXYmk3kQIC/Cds55l+iMI3jqhjAuaoe+am2Jw5GT3Nbz3CkE12NavmzN5+erJW7046n/CH1RO/RVa8lBLozXk9uqykkGAyRXLWlLv5jyp4RFsG5vGVzpDLnIjTWgnRy2Rr+tDKvRc7Y8AyZq10jj8DqXdnIRNtFZb+t/ZRtXcDiVnzpqx8mPcDWxgARUqx0W1QB9MeUZiNrV4qP+Ehc+BpNgATsTX8ozYKL2NtFYAHc84fG7ndxUPr+AR/iQSns7uSUufAymwDOb2+NjK27lEFocm/EE2WpyIy/Hi66MWuMKJn8RvxIcj87IM5Vh9663ziW36kR0HNenXuxmfaD8JC7tfKbrhFr7LiZCrMjrzTeGx+PmkosrkNzW94ObzwocJ7A1HokLolY+AvkTiD/q1H0cN48c5EL8Crkttsa/AXQVDmutfyku0E7jShx49XqV3MFK8IryDhYVbj7Sj2P2eBxwcXoe8T8idsKKPRcnZw1b+slFTubwUwhktrfnAt7J++jwQtLZcm3sr9LQrjRzz6cfMv9aLvgmnAGvpoaGLxM4mAEaLV7iAzQ3oU0IvD5x9ix3yF2RAAuYAOO2f7PEFWCXZ4C9Pb2UsgDeVnFSpbFK7/IWu7TPTvBqzbGdCHOJQSxiEjt6IyZmxQyEJHv6xyQsYk//moVFsN2zP6fRImjfq7/n/wFDguUQFNEwugAAAABJRU5ErkJggg==');
  }

  div.callout-important.callout-style-default .callout-title {
    background-color: #f7dddc
  }

  div.callout-warning {
    border-left-color: #f0ad4e !important;
  }

  div.callout-warning .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAETklEQVRYCeVWW2gcVRg+58yaTUnizqbipZeX4uWhBEniBaoUX1Ioze52t7sRq6APio9V9MEaoWlVsFasRq0gltaAPuxms8lu0gcviE/FFOstVbSIxgcv6SU7EZqmdc7v9+9mJtNks51NTUH84ed889/PP+cmxP+d5FIbMJmNbpREu4WUkiTtCicKny0l1pIKmBzovF2S+hIJHX8iEu3hZJ5lNZGqyRrGSIQpq15AzF28jgpeY6yk6GVdrfFqdrD6Iw+QlB8g0YS2g7dyQmXM/IDhBhT0UCiRf59lfqmmDvzRt6kByV/m4JjtzuaujMUM2c5Z2d6JdKrRb3K2q6mA+oYVz8JnDdKPmmNthzkAk/lN63sYPgevrguc72aZX/L9C6x09GYyxBgCX4NlvyGUHOKELlm5rXeR1kchuChJt4SSwyddZRXgvwMGvYo4QSlk3/zkHD8UHxwVJA6zjZZqP8v8kK8OWLnIZtLyCAJagYC4rTGW/9Pqj92N/c+LUaAj27movwbi19tk/whRCIE7Q9vyI6yvRpftAKVTdUjOW40X3h5OXsKCdmFcx0xlLJoSuQngnrJe7Kcjm4OMq9FlC7CMmScQANuNvjfP3PjGXDBaUQmbp296S5L4DrpbrHN1T87ZVEZVCzg1FF0Ft+dKrlLukI+/c9ENo+TvlTDbYFvuKPtQ9+l052rXrgKoWkDAFnvh0wTOmYn8R5f4k/jN/fZiCM1tQx9jQQ4ANhqG4hiL0qIFTGViG9DKB7GYzgubnpofgYRwO+DFjh0Zin2m4b/97EDkXkc+f6xYAPX0KK2I/7fUQuwzuwo/L3AkcjugPNixC8cHf0FyPjWlItmLxWw4Ou9YsQCr5fijMGoD/zpdRy95HRysyXA74MWOnscpO4j2y3HAVisw85hX5+AFBRSHt4ShfLFkIMXTqyKFc46xdzQM6XbAi702a7sy04J0+feReMFKp5q9esYLCqAZYw/k14E/xcLLsFElaornTuJB0svMuJINy8xkIYuL+xPAlWRceH6+HX7THJ0djLUom46zREu7tTkxwmf/FdOZ/sh6Q8qvEAiHpm4PJ4a/doJe0gH1t+aHRgCzOvBvJedEK5OFE5jpm4AGP2a8Dxe3gGJ/pAutug9Gp6he92CsSsWBaEcxGx0FHytmIpuqGkOpldqNYQK8cSoXvd+xLxXADw0kf6UkJNFtdo5MOgaLjiQOQHcn+A6h5NuL2s0qsC2LOM75PcF3yr5STuBSAcGG+meA14K/CI21HcS4LBT6tv0QAh8Dr5l93AhZzG5ZJ4VxAqdZUEl9z7WJ4aN+svMvwHHL21UKTd1mqvChH7/Za5xzXBBKrUcB0TQ+Ulgkfbi/H/YT5EptrGzsEK7tR1B7ln9BBwckYfMiuSqklSznIuoIIOM42MQO+QnduCoFCI0bpkzjCjddHPN/F+2Yu+sd9bKNpVwHhbS3LluK/0zgfwD0xYI5dXuzlQAAAABJRU5ErkJggg==');
  }

  div.callout-warning.callout-style-default .callout-title {
    background-color: #fcefdc
  }

  div.callout-tip {
    border-left-color: #02b875 !important;
  }

  div.callout-tip .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAADr0lEQVRYCe1XTWgTQRj9ZjZV8a9SPIkKgj8I1bMHsUWrqYLVg4Ue6v9BwZOxSYsIerFao7UiUryIqJcqgtpimhbBXoSCVxUFe9CTiogUrUp2Pt+3aUI2u5vdNh4dmMzOzHvvezuz8xNFM0mjnbXaNu1MvFWRXkXEyE6aYOYJpdW4IXuA4r0fo8qqSMDBU0v1HJUgVieAXxzCsdE/YJTdFcVIZQNMyhruOMJKXYFoLfIfIvVIMWdsrd+Rpd86ZmyzzjJmLStqRn0v8lzkb4rVIXvnpScOJuAn2ACC65FkPzEdEy4TPWRLJ2h7z4cArXzzaOdKlbOvKKX25Wl00jSnrwVxAg3o4dRxhO13RBSdNvH0xSARv3adTXbBdTf64IWO2vH0LT+cv4GR1DJt+DUItaQogeBX/chhbTBxEiZ6gftlDNXTrvT7co4ub5A6gp9HIcHvzTa46OS5fBeP87Qm0fQkr4FsYgVQ7Qg+ZayaDg9jhg1GkWj8RG6lkeSacrrHgDaxdoBiZPg+NXV/KifMuB6//JmYH4CntVEHy/keA6x4h4CU5oFy8GzrBS18cLJMXcljAKB6INjWsRcuZBWVaS3GDrqB7rdapVIeA+isQ57Eev9eCqzqOa81CY05VLd6SamW2wA2H3SiTbnbSxmzfp7WtKZkqy4mdyAlGx7ennghYf8voqp9cLSgKdqNfa6RdRsAAkPwRuJZNbpByn+RrJi1RXTwdi8RQF6ymDwGMAtZ6TVE+4uoKh+MYkcLsT0Hk8eAienbiGdjJHZTpmNjlbFJNKDVAp2fJlYju6IreQxQ08UJDNYdoLSl6AadO+fFuCQqVMB1NJwPm69T04Wv5WhfcWyfXQB+wXRs1pt+nCknRa0LVzSA/2B+a9+zQJadb7IyyV24YAxKp2Jqs3emZTuNnKxsah+uabKbMk7CbTgJx/zIgQYErIeTKRQ9yD9wxVof5YolPHqaWo7TD6tJlh7jQnK5z2n3+fGdggIOx2kaa2YI9QWarc5Ce1ipNWMKeSG4DysFF52KBmTNMmn5HqCFkwy34rDg05gDwgH3bBi+sgFhN/e8QvRn8kbamCOhgrZ9GJhFDgfcMHzFb6BAtjKpFhzTjwv1KCVuxHvCbsSiEz4CANnj84cwHdFXAbAOJ4LTSAawGWFn5tDhLMYz6nWeU2wJfIhmIJBefcd/A5FWQWGgrWzyORZ3Q6HuV+Jf0Bj+BTX69fm1zWgK7By1YTXchFDORywnfQ7GpzOo6S+qECrsx2ifVQAAAABJRU5ErkJggg==');
  }

  div.callout-tip.callout-style-default .callout-title {
    background-color: #ccf1e3
  }

  div.callout-caution {
    border-left-color: #fd7e14 !important;
  }

  div.callout-caution .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAACV0lEQVRYCdVWzWoUQRCuqp2ICBLJXgITZL1EfQDBW/bkzUMUD7klD+ATSHBEfAIfQO+iXsWDxJsHL96EHAwhgzlkg8nBg25XWb0zIb0zs9muYYWkoKeru+vn664fBqElyZNuyh167NXJ8Ut8McjbmEraKHkd7uAnAFku+VWdb3reSmRV8PKSLfZ0Gjn3a6Xlcq9YGb6tADjn+lUfTXtVmaZ1KwBIvFI11rRXlWlatwIAAv2asaa9mlB9wwygiDX26qaw1yYPzFXg2N1GgG0FMF8Oj+VIx7E/03lHx8UhvYyNZLN7BwSPgekXXLribw7w5/c8EF+DBK5idvDVYtEEwMeYefjjLAdEyQ3M9nfOkgnPTEkYU+sxMq0BxNR6jExrAI31H1rzvLEfRIdgcv1XEdj6QTQAS2wtstEALLG1yEZ3QhH6oDX7ExBSFEkFINXH98NTrme5IOaaA7kIfiu2L8A3qhH9zRbukdCqdsA98TdElyeMe5BI8Rs2xHRIsoTSSVFfCFCWGPn9XHb4cdobRIWABNf0add9jakDjQJpJ1bTXOJXnnRXHRf+dNL1ZV1MBRCXhMbaHqGI1JkKIL7+i8uffuP6wVQAzO7+qVEbF6NbS0LJureYcWXUUhH66nLR5rYmva+2tjRFtojkM2aD76HEGAD3tPtKM309FJg5j/K682ywcWJ3PASCcycH/22u+Bh7Aa0ehM2Fu4z0SAE81HF9RkB21c5bEn4Dzw+/qNOyXr3DCTQDMBOdhi4nAgiFDGCinIa2owCEChUwD8qzd03PG+qdW/4fDzjUMcE1ZpIAAAAASUVORK5CYII=');
  }

  div.callout-caution.callout-style-default .callout-title {
    background-color: #ffe5d0
  }

  </style>
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
  
    <link rel="icon" href="../Intro2DS_logo.jpg" type="image/jpg"> 
    <link rel="shortcut icon" href="../Intro2DS_logo.jpg" type="image/jpg">
    <link href="https://fonts.googleapis.com/css?family=Lato:400,700" rel="stylesheet" type="text/css">
  </head>

<body class="quarto-light">
  <div class="reveal">
    <div class="slides">

<section id="section" class="slide level2 logo-slide">
    <h2></h2>
    </section>
<section id="introduction-to-data-science" class="slide level2 title-slide center">
<h2>Introduction to Data Science</h2>
<h3 id="inference---part-a---class-7">Inference - Part A - Class 7</h3>
<h3 id="giora-simchoni">Giora Simchoni</h3>
<h4 id="gsimchonigmail.com-and-add-intro2ds-in-subject"><code>gsimchoni@gmail.com</code> and add <code>#intro2ds</code> in subject</h4>
<h3 id="stat.-and-or-department-tau">Stat. and OR Department, TAU</h3>
<aside class="notes">
<div style="direction:rtl; font-size:16px">
<p>הסקה סטטיסטית היא נושא מורכב שאפשר להקדיש לו סמסטר אחד לפחות. בקורס שלנו אנחנו רוצים לתת מבט על על הנושא, ולהשתמש כמה שניתן בתכנות כדי להבהיר את המושגים שנדון בהם.</p>
</div>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="the-big-picture" class="slide level2 title-slide center">
<h2>The Big Picture</h2>
<aside class="notes">
<div style="direction:rtl; font-size:16px">

</div>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section class="slide level2">

<h3 id="basic-idea-of-statistical-inference">Basic idea of statistical inference</h3>

<img data-src="images/sampling_inference_diagram.png" class="r-stretch"><aside class="notes">
<div style="direction:rtl; font-size:16px">
<p>התרשים שלפנינו מתאר בצורה פשוטה את מטרת ההסקה הסטטסיטית. אנחנו מניחים שיש בעולם מציאות מסוימת, אוכלוסיה, שבה המדד שמעניין אותנו מתפלג בצורה מסוימת, לזה קראנו התפלגות. העולם הזה כל כך גדול שלא ניתן לראות את כולו, יש לנו איזשהן מגבלות כמו קיבולת או תקציב, לדגום רק מדגם סופי מהאוכלוסיה הזאת. ובעזרת המדגם הקטן, היינו רוצים להסיק בחזרה אל ההתפלגות הגדולה. התהליך הזה של דגימה והסקה הוא המוקד שלנו. ננסה ביחידה הזאת לדבר על כמה מושגים באמצעות סימולציה וקוד, לפני שאנחנו נכנסים לנוסחאות.</p>
</div>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section class="slide level2">

<h3 id="basic-idea-of-statistical-inference-1">Basic idea of statistical inference</h3>
<div class="fragment">
<p>The <em>distribution</em> is something we want to learn about:</p>
<ul>
<li>Which candidate has more support in the population?</li>
<li>Do impressionist paintings have more red than realist paintings?</li>
</ul>
</div>
<div class="fragment">
<p>We are given a <em>sample</em> of data <span class="math inline">\(X\)</span> and want to use it to learn about the population:</p>
<ul>
<li>An election survey</li>
<li>30 impressionist paintings and 30 realist paintings</li>
</ul>
</div>
<aside class="notes">
<div style="direction:rtl; font-size:16px">
<p>אילו דוגמאות יש לעולם, לאוכלוסיה, להתפלגות, עליהם אנחנו רוצים ללמוד? בזמן בחירות למשל לראשות הממשלה בין שני מועמדים, נרצה לדעת לפני יום הבחירות לאיזה מהמועמדים יש רוב באוכלוסיה. כשזה נוגע לציורים שלנו, נרצה לדוגמא באיזה סגנון נמצא רמות גבוהות יותר של פיקסלים בשכבה האדומה: לציורים אימפרסיוניסטיים או ריאליסטיים. בשני המקרים האלה כמעט בלתי אפשרי לאסוף את כל האוכלוסיה, ויש צורך לאסו, מדגם ממנה.</p>
<p>ומהו המדגם? במקרה של בחירות זה יהיה אחד מסקרי הבחירות שאנחנו שומעים עליהם כל כך הרבה. במקרה של הציורים אנחנו נניח שיש לנו תקציב לבדוק את רמת האדום רק ב30 ציורים אימפרסיוניסטיים ו30 ציורים ריאליסטיים.</p>
</div>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section class="slide level2">

<h3 id="hypothesis-testing">Hypothesis testing</h3>
<div class="fragment">
<p>We have a <em>null</em> world we believe in unless convinced otherwise:</p>
<ul>
<li>The candidates have equal support</li>
<li>There is no difference in red level between impressionist and realist paintings</li>
</ul>
</div>
<div class="fragment">
<p>We want to use the sample to determine whether to reject the null:</p>
<ul>
<li>Does the sample <strong>convincingly indicate</strong> that candidate 1 has higher support?</li>
<li>Does the sample contain <strong>clear evidence</strong> of more red in impressionist paintings?</li>
</ul>
</div>
<div class="fragment">
<p>This is often indicated through the p-value, which <em>calculates</em> how consistent our data is with the null hypothesis</p>
<p>Another view: the p-value measures how <em>surprising</em> the data we see is, if the null holds</p>
</div>
<aside class="notes">
<div style="direction:rtl; font-size:16px">
<p>הפרדיגמה שלנו נקראת בדיקת השערות.</p>
<p>יש לנו עולם שנקרא לו עולם האפס, עולם הnull, אפשר לחשוב עליו כברירת מחדל, משהו שניתן להניח וכולם יודעים, ולהגיד משהו חדש ומעניין זה בעצם לנסות להתרחק מהעולם הזה. בדוגמא של בחירות לראשות הממשלה ההנחה היא שלמועמדים לראשות הממשלה יש תמיכה זהה. בדוגמא של הציורים ברירת המחדל תהיה שיש לציורים אימפרסיוניסטיים וריאליסטיים אותה רמה של פיקסלים אדומים.</p>
<p>היינו רוצים כחוקרים להגיד משהו חדש. שהמדגם שלנו ישמש אותנו לדחייה של העולם הזה ש”כולם יודעים”, וכך לקדם את הידע שלנו: בדוגמת הבחירות האם המדגם משכנע מספיק שלמועמד מסוים יש יותר תמיכה בקרב האוכלוסיה? בדוגמא של הציורים נשאל האם המדגם מהווה עדות מספקת שיש יותר אדום למשל דווקא בציורים אימפרסיוניסטיים.</p>
<p>הרבה פעמים נכמת את מידת ההפתעה הזאת באמצעות כמות שנקראת pvalue. אפשר לראות בpvalue כמודד עד כמה המדגם קונסיסטנטי עם השערת האפס, עם מה שכולנו כביכול אמורים לדעת והוא איננו חדשות. ככל שהוא יהיה קטן יותר כך נהיה מופתעים יותר תחת העולם הזה של השערת האפס, תחת ההנחות הידועות שלנו, ואולי נדחה אותן.</p>
</div>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section class="slide level2">

<h3 id="conceptual-example-criminal-trial">Conceptual example: Criminal trial</h3>
<ul>
<li>In a criminal trial, suspects get convicted only if their guilt is proven <em>beyond reasonable doubt</em></li>
<li>This is a hypothesis test with null hypothesis: the suspect is innocent</li>
<li>Data: the evidence the sides bring in trial</li>
<li>Beyond reasonable doubt: the evidence is not consistent with the null of innocence</li>
<li>Difference: the decision is based on the judge’s intuition, whereas formal hypothesis testing is based on calculating probabilities</li>
</ul>
<div class="fragment">
<p>Key element: The two hypotheses are not symmetric!</p>
</div>
<aside class="notes">
<div style="direction:rtl; font-size:16px">
<p>דוגמא שעוזרת הרבה פעמים לסטודנטים להבין את הפרדיגמה של בדיקת השערות היא מעולם המשפט.</p>
<p>בבית המשפט, חשוד לא מורשע אלא אם כן הוכחה אשמתו מעל לאיזשהו סף ספק סביר. אפשר לראות את ברירת המחדל שהחשוד חף מפשע כהשערת האפס. המדגם או הנתונים, הם הראיות. והשאיפה של התובע להוכיח את אשמת החשוד מעבר לספק סביר היא בעצם הניסיון שלו להראות שהראיות, הדאטא, לא תואמות את הנחת החפות. ההבדל הוא שברוב המשפטים הדבר שיכריע האם הדאטא מרחיק אותנו מהשערת החפות הוא הניסיון והאינטואיציה של השופט. בעולם מדעי הנתונים אנחנו השופטים, וכדי לקבוע אם לדחות את השערת האפס נראה שנחשב הסתברויות.</p>
<p>אבל הדוגמא הזאת מדגימה עוד עיקרון מפתח בפרדיגמה שלנו: שתי ההשערות, האפס והאלטרנטיבית אינו סימטריות! אין כאן הכרעה בין שני מצבים שכל אחד יכול להחליף את השני, בדרך כלל השערת האפס היא כאמור ברירת מחדל, היא הנחת מוצא, שאנחנו צריכים כחוקרים לעבוד קשה כדי לצאת ממנה, אל ההשערה האלטרנטיבית. לכן גם מקפידים על הז’רגון הזה של לדחות או לא לדחות את השערת האפס.</p>
</div>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section class="slide level2">

<h3 id="the-importance-of-formal-hypothesis-testing-in-the-world">The importance of (formal) hypothesis testing in the world</h3>
<div class="fragment">
<p>All scientific discovery is done through the hypothesis testing formalism:</p>
<ul>
<li>Null hypothesis: We did not discover something new (like a new particle, or a new genetic influence on disease)</li>
<li>Examples: Higgs boson search, studies for finding genes that cause disease</li>
<li>P value: strength of evidence that what we found is indeed new and different</li>
</ul>
</div>
<div class="fragment">
<p>All the formal processes of testing medications, food etc.</p>
<ul>
<li>Null hypothesis: the new medicine does not reduce cholesterol</li>
<li>Example: study with people who got the medicine or placebo</li>
<li>P value: how convincing is the evidence that the medicine is more effective than placebo?</li>
</ul>
</div>
<aside class="notes">
<div style="direction:rtl; font-size:16px">
<p>למי שעוד לא מתמצא בעולם של מחקר מדעי, הפרדיגמה הזאת של בדיקת השערות חשובה ונפוצה כל כך, עד שנסתכן ונאמר שכיום כמעט כל גילוי מדעי חייב להשתמש בה. נראה גם ביקורת על המצב הזה. השערת האפס היא בדרך כלל לא גילינו שום דבר חדש, הנתונים האלה תואמים את הידע המדעי הקיים. בדוגמא של חלקיק ההיגס בוזון החוקרים הניחו שהחלקיק שלפניהם מוכר, בדוגמא מתחום הגנטיקה חוקרים מניחים שאין השפעה של מוטציה גנטית שהם בודדו על מחלה מסוימת. הpvalue הוא מדד לחוזק העדות שכן יש כאן משהו חדש.</p>
<p>דוגמא נוספת היא כל מחקר קליני בתחום התרופות. השערת האפס היא שלתרופה אין השפעה על המחלה או על כמות הכולסטרול בדם. מחקר אופייני יחלק קבוצה אקראית של חולים לקבוצה שתקבל את התרופה וקבוצה שתקבל פלסבו, תרופת דמה. והpvalue יכמת בעצם עד כמה התרופה היתה יעילה יותר בהורדת הכולסטרול מהפלסבו.</p>
<p>ננתח עכשיו לעומק את דוגמת הציורים שתלווה אותנו בהמשך.</p>
</div>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="example-red-paintings" class="slide level2 title-slide center">
<h2>Example: Red Paintings</h2>
<aside class="notes">
<div style="direction:rtl; font-size:16px">

</div>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section class="slide level2">

<h3 id="red-paintings-example">Red Paintings Example</h3>
<ul>
<li><p>We want to examine whether there is more red in impressionist paintings vs realist paintings</p></li>
<li><p>The “world” is the 16K paintings we have: 8K realist, 8K impressionist</p></li>
<li><p>Imagine we can’t check all of them, but can only sample a few of each kind and see the difference</p></li>
<li><p>Our challenge: to determine if it is <em>convincing</em> evidence that impressionist paintings are redder overall</p></li>
<li><p>Use hypothesis testing approach</p></li>
</ul>
<aside class="notes">
<div style="direction:rtl; font-size:16px">
<p>כאמור ראינו שציירים אימפרסיוניסטים נטו להשתמש ביותר צבע לצייר סיטואציות עליזות יותר, לעומת העולם הריאליסטי הקודר של המהפכה התעשייתית במאה ה19. ונרצה לבחון האם יש באמת יותר אדום, צבע עליז, בציורים אימפרסיוניסטיים.</p>
<p>כדי לבצע סימולציה, נניח שהעולם שלנו הוא אלפי הציורים שהורדנו מאתר wikiart, במדגם הלמידה יש לנו שם שמות אלפים ציורים ריאליסטיים ושמונת אלפים ציורים אימפרסיוניסטיים, סך הכל אוכלוסייה של 16 אלף ציורים.</p>
<p>דוגמא שהבדיקה ידנית, דמיינו שלא ניתן לעבור ציור ציור ולקבוע כמה אדום יש בו.</p>
<p>ניתן לקחת רק מדגם, ולשאול האם הוא מהווה עדות חזקה מספיק כדי להגיד שציורים אימפרסיוניסטיים הם אדומים יותר בממוצע, ואת זאת נעשה עם הפרדיגמה של בדיקת השערות באמצעות מדגם.</p>
</div>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section class="slide level2">

<div class="cell" data-execution_count="2">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>real_sample <span class="op">=</span> get_images_matrix(folder <span class="op">+</span> <span class="st">'realism_train.csv'</span>, folder <span class="op">+</span> <span class="st">'realism'</span>, n <span class="op">=</span> <span class="dv">30</span>, seed <span class="op">=</span> <span class="dv">1976</span>)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>impr_sample <span class="op">=</span> get_images_matrix(folder <span class="op">+</span> <span class="st">'impressionism_train.csv'</span>, folder <span class="op">+</span> <span class="st">'impressionism'</span>, n <span class="op">=</span> <span class="dv">30</span>, seed <span class="op">=</span> <span class="dv">1976</span>)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>real_red <span class="op">=</span> real_sample[:, :, :, <span class="dv">0</span>].mean(axis <span class="op">=</span> (<span class="dv">1</span>, <span class="dv">2</span>))</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>impr_red <span class="op">=</span> impr_sample[:, :, :, <span class="dv">0</span>].mean(axis <span class="op">=</span> (<span class="dv">1</span>, <span class="dv">2</span>))</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(real_red[:<span class="dv">10</span>])</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(impr_red[:<span class="dv">10</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[161.3162 147.0798 140.2261 122.5448 191.0334  52.9117  96.4099 110.3566
 171.9048  78.3864]
[ 51.7256  99.2127  95.8073 105.3173  81.8901 125.3137 128.208   78.7658
  81.1359 201.9115]</code></pre>
</div>
</div>
<div class="fragment">
<div class="cell" data-execution_count="3">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f'Realist paintings mean red value: </span><span class="sc">{</span>real_red<span class="sc">.</span>mean()<span class="sc">:.2f}</span><span class="ss">'</span>)</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f'Impressionist paintings mean red value: </span><span class="sc">{</span>impr_red<span class="sc">.</span>mean()<span class="sc">:.2f}</span><span class="ss">'</span>)</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f'Means difference: </span><span class="sc">{</span>impr_red<span class="sc">.</span>mean() <span class="op">-</span> real_red<span class="sc">.</span>mean()<span class="sc">: .2f}</span><span class="ss">'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Realist paintings mean red value: 115.47
Impressionist paintings mean red value: 130.75
Means difference:  15.28</code></pre>
</div>
</div>
</div>
<div class="fragment">
<p>It looks as you expected, impressionist paintings average red pixel is higher by about 15 points, but if you do it again, results would be different, wouldn’t they?</p>
</div>
<aside class="notes">
<div style="direction:rtl; font-size:16px">
<p>והנה אנחנו לוקחים את המדגם. מדגם של 30 ציורים ריאליסטיים, ומדגם של 30 ציורים אימפרסיוניסטיים. אנחנו לוקחים רק את השכבת צבע הראשונה שהוא הצבע האדום, ומקבלים רמה ממוצעת של אדום לכל ציור וציור. כאן אני מדפיס את הרמה של אדום שמדדנו בעשרת הציורים הריאליסטיים הראשונים ועשרת הציורים האימפרסיוניסטיים הראשונים. נזכור שרמת כל צבע היא מספר בין 0 ל-255 כך שהמספרים הגיוניים, וככל שהמספר גבוה יותר כך יש יותר מאותו הצבע בציור.</p>
<p>אנחנו מחשבים את ממוצע הצבע האדום במדגם הריאליסטי ובמדגם האימפרסיוניסטי, ומגלים שאכן, בהתאם להשערה האלטרנטיבית שלנו, שיש יותר אדום בציורים אימפרסיוניסטיים מאשר בציורים ריאליסטיים. כמה יותר? בערך 15 נקודות. אבל זה לא ממש משכנע, נכון? אם נדגום שוב נקבל בטח תוצאה אחרת.</p>
</div>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section class="slide level2">

<div class="cell" data-execution_count="4">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>real_sample2 <span class="op">=</span> get_images_matrix(folder <span class="op">+</span> <span class="st">'realism_train.csv'</span>, folder <span class="op">+</span> <span class="st">'realism'</span>, n <span class="op">=</span> <span class="dv">30</span>, seed <span class="op">=</span> <span class="dv">1961</span>)</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>impr_sample2 <span class="op">=</span> get_images_matrix(folder <span class="op">+</span> <span class="st">'impressionism_train.csv'</span>, folder <span class="op">+</span> <span class="st">'impressionism'</span>, n <span class="op">=</span> <span class="dv">30</span>, seed <span class="op">=</span> <span class="dv">1961</span>)</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>real_red2 <span class="op">=</span> real_sample2[:, :, :, <span class="dv">0</span>].mean(axis <span class="op">=</span> (<span class="dv">1</span>, <span class="dv">2</span>))</span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>impr_red2 <span class="op">=</span> impr_sample2[:, :, :, <span class="dv">0</span>].mean(axis <span class="op">=</span> (<span class="dv">1</span>, <span class="dv">2</span>))</span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f'Realist paintings mean red value: </span><span class="sc">{</span>real_red2<span class="sc">.</span>mean()<span class="sc">:.2f}</span><span class="ss">'</span>)</span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f'Impressionist paintings mean red value: </span><span class="sc">{</span>impr_red2<span class="sc">.</span>mean()<span class="sc">:.2f}</span><span class="ss">'</span>)</span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f'Means difference: </span><span class="sc">{</span>impr_red2<span class="sc">.</span>mean() <span class="op">-</span> real_red2<span class="sc">.</span>mean()<span class="sc">: .2f}</span><span class="ss">'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Realist paintings mean red value: 125.98
Impressionist paintings mean red value: 134.96
Means difference:  8.98</code></pre>
</div>
</div>
<div class="fragment">
<p>Assume sampling is expensive. You have the capacity for 60 paintings.</p>
<p>How will you know, that the difference you’re seeing is of significance? That it will “stick”? That what everyone is thinking, the null hypothesis, should be rejected, and your alternative hypothesis is more likely?</p>
</div>
<aside class="notes">
<div style="direction:rtl; font-size:16px">
<p>נדגום שוב ונגלה שאכן אפשר לקבל תוצאה שונה.</p>
<p>נדמיין שהדגימה יקרה כמו שקורה פעמים רבות במציאות במחקר או בתשעייה. ויש לנו תקציב לדגימה של 60 ציורים בלבד, פעם אחת בלבד. איך נדע שההבדל שאנחנו רואים במדגם אחד הוא חשוב, הוא מובהק, שהוא מעיד על כך שברירת המחדל שלשני סגנונות הציור יש אותה רמה של אדום בהם - היא לא נכונה? לפני שניכנס לנוסחאות - יש לנו בקורס שלנו להדגים את התשובה הזאתף באמצעות סימולצית מחשב.</p>
</div>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="the-null-distribution-by-simulation" class="slide level2 title-slide center">
<h2>The Null Distribution by Simulation</h2>
<aside class="notes">
<div style="direction:rtl; font-size:16px">
<p>אז איך בונים את השערת האפס, את התפלגות האפס, באמצעות סימולציה?</p>
</div>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section class="slide level2">

<h3 id="the-null-distribution-by-simulation-1">The Null Distribution by Simulation</h3>
<ul>
<li><p>Under the null hypothesis, impressionist and realist paintings come from the same homogenous population.</p></li>
<li><p>To illustrate this we will create an <strong>artificial null</strong> world, made of 16K paintings images in our training dataset. Then we can randomly assign half as impressionist and half as realist</p></li>
<li><p>In this world we <strong>know</strong> that impressionist paintings and realist paintings have about the same amount of red</p></li>
</ul>
<div class="fragment">
<div class="cell" data-execution_count="5">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>real_all <span class="op">=</span> get_images_matrix(folder <span class="op">+</span> <span class="st">'realism_train.csv'</span>, folder <span class="op">+</span> <span class="st">'realism'</span>)</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>impr_all <span class="op">=</span> get_images_matrix(folder <span class="op">+</span> <span class="st">'impressionism_train.csv'</span>, folder <span class="op">+</span> <span class="st">'impressionism'</span>)</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>real_red_all <span class="op">=</span> real_all[:, :, :, <span class="dv">0</span>].mean(axis <span class="op">=</span> (<span class="dv">1</span>, <span class="dv">2</span>))</span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>impr_red_all <span class="op">=</span> impr_all[:, :, :, <span class="dv">0</span>].mean(axis <span class="op">=</span> (<span class="dv">1</span>, <span class="dv">2</span>))</span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a>population <span class="op">=</span> np.concatenate([real_red_all, impr_red_all])</span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(population.shape)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>(16000,)</code></pre>
</div>
</div>
</div>
<aside class="notes">
<div style="direction:rtl; font-size:16px">
<p>תחת השערת האפס הרי אין הבדל בין ציורים ריאליסטיים וציורים אימפרסיוניסטיים מבחינת כמות האדום בהם. אנחנו יכולים לקחת את אלפי התמונות שלנו ולאחד אותן, לתוך עולם מלאכותי אחד ויחיד של 16 אלף תמונות. בעולם כזה כל פעם שנדגום שתי קבוצות של 30 ציורים ונקרא להם אימפרסיוניסטיים ו-30 ציורים שנקרא להם ריאליסטיים, אנחנו יודעים, שרמת האדום היא זהה בין שתי הקבוצות. זה עולם מלאכותי.</p>
<p>כאן אנחנו יוצרים את העולם הזה בפייתון, 16 אלף תמונות של ציורים זה לא כל כך נורא, אנחנו קוראים את כולם לזיכרון, מחשבים את רמת האדום הממוצעת בהם, ומאחדים אותם ל16 אלף מספרים של רמת אדום. לאוביקט הזה אנחנו קוראים במרכאות אוכלוסיה, population.</p>
</div>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section class="slide level2">

<div class="cell" data-execution_count="6">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>plt.hist(population, bins<span class="op">=</span><span class="dv">20</span>)</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<p><img data-src="c07_inferenceA_files/figure-revealjs/cell-7-output-1.png" width="509" height="411"></p>
</div>
</div>
<aside class="notes">
<div style="direction:rtl; font-size:16px">
<p>אם נצייר היסטוגרמה של האוכלוסיה, זו רמת האדום הממוצעת ב16 אלף ציורים, היא נראית כך, די סימטרית וערכים בן 0 ל-255. חשוב לי להדגיש שהיא רק במקרה סימטרית ויפה, היא לא היתה חייבת להיראות ככה בכלל ועדיין היינו ממשיכים כרגיל.</p>
</div>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section class="slide level2">

<ul>
<li>We can sample two random samples of so-called “impressionist” and so-called “realist” paintings to prove to ourselves that the difference between their means should be about zero:</li>
</ul>
<div class="cell" data-execution_count="7">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>real_red_null <span class="op">=</span> np.random.choice(population, <span class="dv">30</span>, replace<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>impr_red_null <span class="op">=</span> np.random.choice(population, <span class="dv">30</span>, replace<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f'Means difference: </span><span class="sc">{</span>impr_red_null<span class="sc">.</span>mean() <span class="op">-</span> real_red_null<span class="sc">.</span>mean()<span class="sc">: .2f}</span><span class="ss">'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Means difference:  7.64</code></pre>
</div>
</div>
<div class="fragment">
<ul>
<li>We got a mean difference which is different than zero, <em>by random</em>. And again and again:</li>
</ul>
<div class="cell" data-execution_count="8">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>real_red_null <span class="op">=</span> np.random.choice(population, <span class="dv">30</span>, replace<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>impr_red_null <span class="op">=</span> np.random.choice(population, <span class="dv">30</span>, replace<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f'Means difference: </span><span class="sc">{</span>impr_red_null<span class="sc">.</span>mean() <span class="op">-</span> real_red_null<span class="sc">.</span>mean()<span class="sc">: .2f}</span><span class="ss">'</span>)</span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a>real_red_null <span class="op">=</span> np.random.choice(population, <span class="dv">30</span>, replace<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a>impr_red_null <span class="op">=</span> np.random.choice(population, <span class="dv">30</span>, replace<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f'Means difference: </span><span class="sc">{</span>impr_red_null<span class="sc">.</span>mean() <span class="op">-</span> real_red_null<span class="sc">.</span>mean()<span class="sc">: .2f}</span><span class="ss">'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Means difference: -16.27
Means difference:  4.52</code></pre>
</div>
</div>
</div>
<aside class="notes">
<div style="direction:rtl; font-size:16px">
<p>כעת נדגום שני מדגם של 30 ציורים אימפרסיוניסטיים לכאורה -30 ציורים ריאליסטיים לכאורה, ונסתכל על ההבדל ברמת האדום שלהם. ושוב, למה לכאורה? כי הדגימה נעשית מתוך אוכלוסיה אחת גדולה של ציורים!</p>
<p>כאן אני משתמש בפונקציה np.random.choice, שנותנת לי מדגם של 30 ציורים ללא החזרה, ועוד אחד, ובודק את הפרש הממוצעים של האדום ביניהם, ומקבל מספר ששונה מאפס.</p>
<p>אני יודע שהמספר הזה שונה מאפס רק בגלל אקראיות, ואכן, אם אחזור על הדגימה שוב ושוב אקבל מספרים אחרים!</p>
</div>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section class="slide level2">

<h3 id="the-null-distribution">The Null Distribution</h3>
<ul>
<li><p>We want to know how is <em>our</em> original average difference of about 15 points is in comparison to these <strong>null</strong> average differences between groups coming from the same population.</p></li>
<li><p>So we’ll make a lot of the them and look at their distribution, the null distribution of the means difference:</p></li>
</ul>
<div class="fragment">
<div class="cell" data-execution_count="9">
<div class="sourceCode cell-code" id="cb14" data-code-line-numbers="|6|"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb14-1"><a href="#cb14-1"></a><span class="kw">def</span> sample_null_mean_diff(n <span class="op">=</span> <span class="dv">30</span>):</span>
<span id="cb14-2"><a href="#cb14-2"></a>    real_red_null <span class="op">=</span> np.random.choice(population, n, replace<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb14-3"><a href="#cb14-3"></a>    impr_red_null <span class="op">=</span> np.random.choice(population, n, replace<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb14-4"><a href="#cb14-4"></a>    <span class="cf">return</span> impr_red_null.mean() <span class="op">-</span> real_red_null.mean()</span>
<span id="cb14-5"><a href="#cb14-5"></a></span>
<span id="cb14-6"><a href="#cb14-6"></a>null_mean_diffs <span class="op">=</span> np.array([sample_null_mean_diff() <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">10000</span>)])</span>
<span id="cb14-7"><a href="#cb14-7"></a></span>
<span id="cb14-8"><a href="#cb14-8"></a><span class="bu">print</span>(<span class="ss">f'Max null mean diff: </span><span class="sc">{</span><span class="bu">max</span>(null_mean_diffs)<span class="sc">: .2f}</span><span class="ss">'</span>)</span>
<span id="cb14-9"><a href="#cb14-9"></a><span class="bu">print</span>(<span class="ss">f'Min null mean diff: </span><span class="sc">{</span><span class="bu">min</span>(null_mean_diffs)<span class="sc">: .2f}</span><span class="ss">'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Max null mean diff:  39.27
Min null mean diff: -37.85</code></pre>
</div>
</div>
</div>
<div class="fragment">
<ul>
<li>We can see that the max null mean differences is actually much higher than our original 15 points. So at random, when there is <em>no difference</em>, you can get mean differences of over 30!</li>
</ul>
</div>
<aside class="notes">
<div style="direction:rtl; font-size:16px">
<p>כעת שימו לב לנקודה הבאה: היינו רוצים לדעת כמה הערך המקורי שקיבלנו, של הפרש 15, הוא חריג ביחס למדגמים כאלה, מאוכלוסיית האפס, שבה לא אמור להיות הבדל ביניהם. אז מה שנעשה זה נדגום הרבה זוגות של מדגמים מהאוכלוסיה הגדולה, נחשב את הפרש האדום ביניהם, נסתכל על ההתפלגות של ההפרשים האלה, וזו תהיה התפלגות האפס שלנו.</p>
<p>בקוד שלפנינו אני שם את הדגימה מהאוכלוסיה של שני מדגמים בתוך פונקציה שנקראת sample_null_mean_diff, היא עושה בדיוק את מה שראינו. קח מדגם ועוד מדגם וחשב את ההפרש בין הממוצעים.</p>
<p>וכעת אני חוזר על זה 10000 פעמים, כדי לקבל 10000 הפרשי ממוצע. ברשימה הזאת של null_mean_diffs, יש בעצם את התפלגות האפס שלי, של 10000 הפרשי ממוצעים, תחת הידיעה שלא אמור להיות בין שני המדגמים הבדל.</p>
<p>הדפסתי כאן קודם כל את המקסימיום והמינימום של ההתפלגות הזאת. באופן מדהים, אפילו בהתפלגות האפס יש הפרשים גדולים הרבה יותר מ15 הנקודות שאנחנו קיבלנו! אפשר לקבל באקראי גם הפרשים של מעל 30 ו-40! אז האם ההפרש שלנו של 15, שהתקבל מזוג מדגמים אמיתי של ציורים ריאליסטיים ואימפרסיוניסטיים, הוא כל כך חריג?</p>
</div>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section class="slide level2">

<p>Let’s look at the null distribution histogram:</p>
<div class="cell" data-execution_count="10">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>fig, ax <span class="op">=</span> plt.subplots()</span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>N, bins, patches <span class="op">=</span> ax.hist(null_mean_diffs, bins<span class="op">=</span>np.arange(<span class="op">-</span><span class="dv">45</span>, <span class="dv">45</span>, <span class="dv">5</span>))</span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">0</span>, <span class="dv">12</span>):</span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a>    patches[i].set_facecolor(<span class="st">'blue'</span>)</span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">12</span>, <span class="bu">len</span>(patches)):</span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true" tabindex="-1"></a>    patches[i].set_facecolor(<span class="st">'red'</span>)</span>
<span id="cb16-8"><a href="#cb16-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-9"><a href="#cb16-9" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<p><img data-src="c07_inferenceA_files/figure-revealjs/cell-11-output-1.png" width="509" height="411"></p>
</div>
</div>
<p>It seems like our original value of 15 points difference is not that extreme. There’s a measure for that:</p>
<aside class="notes">
<div style="direction:rtl; font-size:16px">
<p>באופן מפורש יותר נביט בכל ההתפלגות של ההפרשים עם היסטוגרמה, ונסמן את הערך שאנחנו קיבלנו, של 15 נקודות הפרש. ונראה ש15 נקודות הפרש זה לא ערך כל כך קיצוני תחת התפלגות האפס. כמה קיצוני? בשביל זה יש לנו את מדד הpvalue.</p>
</div>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section class="slide level2">

<h3 id="p-value">P-Value</h3>
<ul>
<li>How extreme is our original 15 points result?</li>
</ul>
<div class="fragment">
<ul>
<li>What is the probability under the null distribution, where there is no difference between “realist” and “impressionist”, of getting 15 or higher?</li>
</ul>
</div>
<div class="fragment">
<div class="cell" data-execution_count="11">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>one_sided_p_value <span class="op">=</span> np.mean(null_mean_diffs <span class="op">&gt;=</span> <span class="dv">15</span>)</span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f'P(mean_diff &gt;= 15 | H0) = </span><span class="sc">{</span>one_sided_p_value<span class="sc">: .2f}</span><span class="ss">'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>P(mean_diff &gt;= 15 | H0) =  0.07</code></pre>
</div>
</div>
</div>
<div class="fragment">
<ul>
<li>It looks like the chance of getting a difference of 15 points or higher, when there is no difference, is ~6-7%. Does that convince you that there actually is a difference, that indeed the realist and impressionist samples came from two different, separate, distributions?</li>
</ul>
</div>
<div class="fragment">
<ul>
<li>It is a standard in both academia and industry to not be persuaded by a p-value larger than a threshold <span class="math inline">\(\alpha\)</span> of 1% or 5% (a.k.a Type I Error, see soon).</li>
</ul>
</div>
<aside class="notes">
<div style="direction:rtl; font-size:16px">
<p>הpvalue, הוא הסיכוי לקבל ערך קיצוני כפי שקיבלנו או קיצוני יותר, תחת התפלגות האפס. בתרשים שראינו אפשר לחשוב עליו כשטח האדום בהיסטוגרמה, מעל הערך שקיבלנו, 15.</p>
<p>נחשב את השטח הזה כך: מה יחס המספרים שהם מעל 15. לp-value כזה אנחנו קוראים pvalue חד צדדי, כי אנחנו מעוניינים רק בתוצאות שהן קיצוניות לכיוון שבו ציורים אימפרסיוניסטיים הם אדומים יותר מציורים ריאליסטיים.</p>
<p>וכאן, הוא יוצא שבעה אחוז בערך. כלומר, גם תחת השערת האפס שאין הבדל בין ציורים אימפרסיוניסטיים לריאליסטיים ברמת האדום, אפשר בסיכוי לא רע של 7 אחוזים לקבל הפרש של 15 נקודות אדום בין שני מדגמים אקראיים. אז האם זה משכנע אתכם שיש הבדל בין ציורים אימפרסיוניסטיים לריאליסטיים באוכלוסיה? שציורים אימפרסיוניטיים וציורים ריאליסטיים באים משתי התפלגויות שונות?</p>
<p>מקובל באקדמיה להשוות את הpvalue לאיזשהו סף נמוך כמו אחד אחוז או חמישה אחוזים, ותחת המבחן, הערך שקיבלנו של 15 נקודות לא מרשים מספיק, ולא היינו דוחים את השערת האפס.</p>
</div>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section class="slide level2">

<h3 id="two-sided-hypothesis">Two-sided Hypothesis</h3>
<ul>
<li><p>If the original alternative hypothesis were “impressionist paintings images’ red level is <em>different</em> than realist”, the p-value should have been two sided.</p></li>
<li><p>Because the probability of getting our original value or “more extreme” would have meant “more extreme in absolute value”:</p></li>
</ul>
<div class="fragment">
<div class="cell" data-execution_count="12">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>two_sided_p_value <span class="op">=</span> np.mean(np.<span class="bu">abs</span>(null_mean_diffs) <span class="op">&gt;</span> <span class="dv">15</span>)</span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f'P(|mean_diff| &gt;= 15 | H0) = </span><span class="sc">{</span>two_sided_p_value<span class="sc">: .2f}</span><span class="ss">'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>P(|mean_diff| &gt;= 15 | H0) =  0.14</code></pre>
</div>
</div>
</div>
<div>
<ul>
<li class="fragment"><p>13-14% chance of observing a result like 15 points or more extreme, at random, when there is no difference. 15 points doesn’t look convincing.</p></li>
<li class="fragment"><p>But in real life we only have that one hard-earned sample. We don’t have the population. And from here, the rest is mathematical approximation for getting that p-value and other measures, with what we have.</p></li>
</ul>
</div>
<aside class="notes">
<div style="direction:rtl; font-size:16px">
<p>הזכרנו שההשערה שלנו היתה חד צדדית. ראינו שציורים אימפרסיוניסטיים צבעוניים יותר, ותהינו אם באמת יהיה בהם יותר אדום. ההשערה שלנו יכלה להיות גם דו-צדדית, כלומר האם יש רמת אדום שונה בין ציורים ריאליסטיים לציורים אימפרסיוניסטיים, מבלי להתחייב על כיוון.</p>
<p>במקרה כזה היינו צריכים לחשוב p-value דו צדדי, כלומר מה ההסתברות לקבל 15 או יותר, בערך מוחלט.</p>
<p>זה מה שאנחנו עושים כאן, ובהתפלגות אפס כל כך סימטרית כמו שראינו זה אומר בעצם להכפיל בקירוב את הpvalue פי 2 ולקבל בערך 14 אחוזים.</p>
<p>ו-14 אחוז לקבל ערך קיצוני כמו שלנו במדגם המקורי או יותר, הוא סיכוי לא קטן, ולא היינו דוחים את השערת האפס שהמדגם שלנו מגיע מההתפלגות המסומלצת הזאת.</p>
<p>עד כאן העולם שבו יכולנו לסמלץ את התפלגות האפס. במציאות באמת יש לנו רק מדגם אחד שיקר להשיג, ואנחנו לא רואים את כל האוכלוסיה. כל מה שאנחנו עושים מרגע זה זה קירוב מתמטי, מבוסס על הידע שלנו בהסתברות, להגיע לאותה התפלגות אפס.</p>
</div>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="binomial-example" class="slide level2 title-slide center">
<h2>Binomial Example</h2>
<aside class="notes">
<div style="direction:rtl; font-size:16px">
<p>בואו נראה דוגמא לסיטואציה שבה אנחנו יכולים לסמלץ את התפלגות האפס, אבל אנחנו יכולים לחילופין גם להניח שזאת התפלגות די מוכרת עם חוקים ידועים: ההתפלגות הבינומית.</p>
</div>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section class="slide level2">

<h3 id="simpler-conceptual-example">Simpler conceptual example</h3>
<ul>
<li>I am given a coin and I want to know if it is fair (heads/tails equally likely)</li>
<li>I am only allowed to throw it 10 times, and I get 8 heads</li>
<li>Mark the null hypothesis <span class="math inline">\(H_0: P(\text{head})=\frac{1}{2}\)</span></li>
<li>Can I reject <span class="math inline">\(H_0\)</span>?</li>
</ul>
<div>
<ul>
<li class="fragment">If I had a null distribution, I could get a p-value: see what % of the time I would get 8 or more heads if the coin was fair</li>
<li class="fragment">Can I get this null distribution? Easily!</li>
</ul>
</div>
<aside class="notes">
<div style="direction:rtl; font-size:16px">
<p>נניח שמישהו נותן לי מטבע ואני רוצה לבדוק האם הוא הוגן, כלומר האם הסיכוי לקבל heads או tails, עץ או פלי, שווה.</p>
<p>אני מטיל את המטבע 10 פעמים ומקבל 8 פעמים heads.</p>
<p>אפשר לסמן את השערת האפס כך, עם H0, ולשאול האם זה נכון שהסיכוי לheads הוא חצי. ואז נשאל האם המדגם שלנו הוא עדות מספיקה כדי לדחות את H0?</p>
<p>כאשר תהיה לי את התפלגות האפס כשהמטבע הוגן, אני אוכל לראות באיזה אחוז מהמקרים אני מקבל תוצאה קיצונית כמו 8 פעמים heads או יותר.</p>
<p>זה קל לסמלץ התפלגות כזאת? ממש.</p>
</div>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section class="slide level2">

<h3 id="method-1-simulation-as-before">Method 1: Simulation (as before)</h3>
<div class="cell" data-execution_count="13">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>null_res <span class="op">=</span> np.random.binomial(<span class="dv">10</span>, <span class="fl">0.5</span>, size<span class="op">=</span><span class="dv">10000</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="14">
<div class="cell-output cell-output-stdout">
<pre><code></code></pre>
</div>
</div>
<div class="fragment">
<div class="cell" data-execution_count="15">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>pd.value_counts(null_res, normalize<span class="op">=</span><span class="va">True</span>).sort_index()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="15">
<pre><code>0     0.0011
1     0.0083
2     0.0421
3     0.1214
4     0.2086
5     0.2458
6     0.2003
7     0.1170
8     0.0456
9     0.0087
10    0.0011
dtype: float64</code></pre>
</div>
</div>
</div>
<aside class="notes">
<div style="direction:rtl; font-size:16px">
<p>אנחנו יכולים לעשות את זה בשורה אחת של קוד, עם הפונקציה np.random.binomial, לבקש את תוצאות הניסוי של משתנה בינומי עם 10 הטלות בסיכוי שווה חצי, עשרת אלפים פעם. באוביקט null_res, יש לנו עשרת אלפים שחזורים של הניסוי הזה, תחת השער האפס שהמטבע הוגן.</p>
<p>כך זה נראה, התוצאה שלנו 8 התקבלה למשל בכ4% מהמקרים אבל אפילו תוצאה כמו 10 heads מתוך 10 התקבלה כמה פעמים, באקראי, למרות שהמטבע הוגן!</p>
</div>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section class="slide level2">

<div class="cell" data-execution_count="16">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a>fig, ax <span class="op">=</span> plt.subplots()</span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>N, bins, patches <span class="op">=</span> ax.hist(null_res, bins<span class="op">=</span>np.arange(<span class="dv">0</span>, <span class="dv">11</span>, <span class="fl">0.5</span>))</span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">0</span>, <span class="dv">15</span>):</span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a>    patches[i].set_facecolor(<span class="st">'blue'</span>)</span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">15</span>, <span class="dv">19</span>):</span>
<span id="cb25-6"><a href="#cb25-6" aria-hidden="true" tabindex="-1"></a>    patches[i].set_facecolor(<span class="st">'red'</span>)</span>
<span id="cb25-7"><a href="#cb25-7" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<p><img data-src="c07_inferenceA_files/figure-revealjs/cell-17-output-1.png" width="509" height="411"></p>
</div>
</div>
<div class="fragment">
<div class="cell" data-execution_count="17">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a>one_sided_p_value <span class="op">=</span> np.mean(null_res <span class="op">&gt;=</span> <span class="dv">8</span>)</span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f'P(heads &gt;= 8 | H0) = </span><span class="sc">{</span>one_sided_p_value<span class="sc">: .3f}</span><span class="ss">'</span>)</span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a>two_sided_p_value <span class="op">=</span> np.mean(null_res <span class="op">&gt;=</span> <span class="dv">8</span>) <span class="op">+</span> np.mean(null_res<span class="op">&lt;=</span><span class="dv">2</span>)</span>
<span id="cb26-5"><a href="#cb26-5" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f'P(heads&gt;=8 or heads&lt;=2 | H0) = </span><span class="sc">{</span>two_sided_p_value<span class="sc">: .3f}</span><span class="ss">'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>P(heads &gt;= 8 | H0) =  0.055
P(heads&gt;=8 or heads&lt;=2 | H0) =  0.107</code></pre>
</div>
</div>
</div>
<aside class="notes">
<div style="direction:rtl; font-size:16px">
<p>כעת נצייר שוב היסטוגרמה של התפלגות האפס. במקרה שלנו יש רק 11 תוצאות אפשריות מאפס עד 10 אז אפשר לצייר גרף מקלות או בארצ’ארט. 8 לא נראית כבר תוצאה כל כך קיצונית,</p>
<p>ואכן אם נחשב את הpvalue, את השכיחות של תוצאות קיצוניות כמו 8 או יותר, נקבל גם במקרה החד-צדדי וגם במקרה הדו-צדדי, ערך שלא עומד במבחן הסף של 5 אחוז. זה פשוט משהו שיקרה 1 ל10 פעמים גם במטבע הוגן!</p>
</div>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section class="slide level2">

<h3 id="method-2-binomial-dist.">Method 2: Binomial Dist.</h3>
<ul>
<li><p>Denote by <span class="math inline">\(X\)</span> the number of heads in 10 tosses.</p></li>
<li><p>Under <span class="math inline">\(H_0: P(\text{head})=\frac{1}{2}\)</span> what is the distribution of <span class="math inline">\(X\)</span>?</p></li>
</ul>
<div class="fragment">
<p><span class="math inline">\(X \sim Bin(10, \frac{1}{2})\)</span></p>
</div>
<div>
<ul>
<li class="fragment"><p>One sided: <span class="math inline">\(P(X \geq 8)= \left(\binom{10}{8} + \binom{10}{9} + \binom{10}{10}\right) \cdot 2^{-10} = 0.055\)</span></p></li>
<li class="fragment"><p>Two sided: <span class="math inline">\(2 \cdot 0.055 = 0.11\)</span></p></li>
<li class="fragment"><p><strong>Important lesson: proper simulation and proper mathematical analysis should give similar results</strong></p></li>
</ul>
</div>
<aside class="notes">
<div style="direction:rtl; font-size:16px">
<p>אבל יש כאן עניין של מה בא קודם, הביצה או התרנגולת. אם אנחנו כבר מניחים שההתפלגות של תוצאת הניסוי שלנו תחת השערת האפס היא בינומית, אפשר להשתמש בחוקי ההתפלגות הבינומית לחשב הסתברות מדויקת.</p>
<p>X יהיה תוצאת הניסוי, מספר ההדז ב10 הטלות, והסיכוי החד-צדדי המבוקש הוא שX יהיה גדול או שווה ל-8. מציבים בנוסחת ההתפלגות הבינומית ומקבלים pvalue מאוד דומה למה שקיבלנו בסימולציה.</p>
<p>מטעמי סימטריה הpvalue הדו צדדי, או הסיכוי לקבל 8 או יותר ועוד הסיכוי לקבל 2 או פחות, זה בעצם הכפלה פי 2 של הpvalue החד צדדי ומקבלים כ11 אחוזים, בדומה לסימולציה.</p>
<p>לפני שנמשיך הנה לקח חשוב: סימולציה טובה, אמורה לתת תוצאות בהתאם לניתוח מתמטי. אחרת, יש טעות באחד מהם. אבל כשזה קורה אתם חייבים להודות שזה די מספק לראות!</p>
</div>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="type-i-and-type-ii-errors" class="slide level2 title-slide center">
<h2>Type-I and Type-II Errors</h2>
<aside class="notes">
<div style="direction:rtl; font-size:16px">
<p>כשאנחנו מבצעים בדיקת השערות, אנחנו יכולים לחשוב על שני סוגי טעויות: טעות אחת היא שהיינו צריכים לדחות את השערת האפס ולא נדחה אותה. זו טעות מסוג ראשון. טעות מסוג שני היא כאשר השערת האפס היא נכונה וכן נדחה אותה. ניתן שמות לטעויות האלה וננסה להקטין את הסיכוי לעשות אותן.</p>
</div>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section class="slide level2">

<h3 id="the-alternative-hypothesis">The Alternative Hypothesis</h3>
<div>
<ul>
<li class="fragment"><p>Let us introduce the simple alternative hypothesis</p></li>
<li class="fragment"><p>In the courtroom example: <span class="math display">\[H_0: \text{innocent}\]</span> <span class="math display">\[H_1: \text{guilty}\]</span></p></li>
<li class="fragment"><p>In the coin example, <span class="math inline">\(X \sim Bin(10, p)\)</span>, and: <span class="math display">\[H_0: p = 0.5\]</span> <span class="math display">\[H_1: p = 0.8\]</span></p></li>
<li class="fragment"><p>In the paintings example, <span class="math inline">\(\mu\)</span> is the diff in red between impressionist and realist, and: <span class="math display">\[H_0: \mu = 0\]</span> <span class="math display">\[H_1: \mu = 20\]</span></p></li>
</ul>
</div>
<aside class="notes">
<div style="direction:rtl; font-size:16px">
<p>בואו נכתוב לגבי ההשערות שראינו בשיעור הזה גם את ההשערה האלטרנטיבית, בצורה מעט יותר פורמלית.</p>
<p>בדוגמת בית המשפט השערת האפס, H0, היא שהנאשם חף מפשע, וההשערה האלטנטיבית H1 היא שהוא אשם.</p>
<p>בדוגמת המטבע השערת האפס היא שהסיכוי לקבל הדז הוא חצי כלומר המטבע הוגן, ואפשר לחשוב על השערה אלטרנטיבית פשוטה כמו: הסיכוי להדז הוא דווקא 0.8.</p>
<p>בדוגמת הציורים שיערנו בעצם על ההפרש בכמות האדום בין ציורים לריאליסטיים ואימפרסיוניסטיים, אפשר לחשוב שיש פרמטר כזה באוכלוסית הציורים של רמת אדום אימפרסיוניסטים פחות רמת אדום ריאליסטיים ולסמן אותו כמיו, ואז לכתוב במפורש: תחת השערת האפס מיו, תוחלת ההפרשים הזאת היא אפס, ותחת ההשערה האלטרנטיבית מיו הוא חיובי, נאמר 20 נקודות הבדל ברמת האדום לטובת ציורים אימפרסיוניסטיים.</p>
</div>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section class="slide level2">

<h3 id="type-i-and-type-ii-errors-1">Type I and Type II Errors</h3>
<ul>
<li>What could go wrong?</li>
</ul>
<div>
<ul>
<li class="fragment"><p>We <strong>reject <span class="math inline">\(H_0\)</span></strong> when it is true, Type-I error: <span class="math inline">\(\alpha = P(\text{reject } H_0 | H_0 \text{ true})\)</span></p></li>
<li class="fragment"><p>We <strong>don’t reject <span class="math inline">\(H_0\)</span></strong> when we should, Type-II error: <span class="math inline">\(\beta = P(\text{not reject } H_0 | H_1 \text{ true})\)</span></p></li>
<li class="fragment"><p>(notice the jargon)</p></li>
</ul>
</div>
<div class="fragment">
<p>The meaning of these terms is often better understood in a table:</p>
<table>
<thead>
<tr class="header">
<th>Reality\Decision</th>
<th>Not Reject <span class="math inline">\(H_0\)</span></th>
<th>Reject <span class="math inline">\(H_0\)</span></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><span class="math inline">\(H_0\)</span></td>
<td>Confidence: <span class="math inline">\(1 - \alpha\)</span></td>
<td>Type I Error: <span class="math inline">\(\alpha\)</span></td>
</tr>
<tr class="even">
<td><span class="math inline">\(H_1\)</span></td>
<td>Type I Error: <span class="math inline">\(\beta\)</span></td>
<td>Power: <span class="math inline">\(1 - \beta\)</span></td>
</tr>
</tbody>
</table>
</div>
<div class="fragment">
<p>Statistical power is often written as <span class="math inline">\(1 - \beta\)</span>, or: <span class="math inline">\(\pi = P(\text{reject } H_0 | H_1 \text{ true})\)</span></p>
<p>Highly important, see later.</p>
</div>
<aside class="notes">
<div style="direction:rtl; font-size:16px">
<p>כעת אפשר לפרמל את הטעויות שדיברנו עליהן:</p>
<p>לדחות את H0 כשזו נכונה, זו טעות מסוג ראשון, מסומנת כאלפא: ההסתברות לדחות בהנחה שH0 נכונה.</p>
<p>הטעות האחרת היא לא לדחות את H0 כשצריך, מסומנת בד”כ כבטא: ההסתברות לדחות H0 כאשר H1 היא הנכונה.</p>
<p>ניתן בעצם לחלק את הפרדיגמה שלנו לטבלת 2 על 2, מה מתקיים בעולם, לעומת האם החלטנו לדחות או לא את השערת האפס: אם בעולם H0 מתקיימת והחלטנו לדחות, הסיכוי לזה היא האלפא, טעות מסדר ראשון. הסיכוי לא לדחות הוא אם כך 1 פחות אלפא, זה נקרא רמת הבטחון או confidence ונדבר עליה בהמשך. ואם בעולם H1 מתקיימת, אז הסיכוי לא לדחות את H0 זו טעות מסדר שני, הבטא, והסיכוי כן לדחות את H0, כלומר לבצע את הדבר הנכון - זו עוצמת המבחן, 1 פחות בטא.</p>
<p>עוצמת המבחן, הpower, היא כמות חשובה מאוד, היינו רוצים שתהיה כמה שיותר גדולה. מסמנים אותה הרבה פעמים כפאי והיא כאמור הסיכוי לדחות את H0 כשH1 נכונה, כשבעולם באמת מתקיימת תופעה חדשה כמו חלקיק חדש, או שהנאשים באמת אשם בפשע.</p>
</div>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section class="slide level2">

<h3 id="two-common-approaches-to-testing">Two Common Approaches to Testing</h3>
<ol type="1">
<li>Compute p-value and compare to some threshold <span class="math inline">\(\alpha\)</span> (1%, 5%)
<ul>
<li>If p-value <span class="math inline">\(\le \alpha \Rightarrow\)</span> reject <span class="math inline">\(H_0\)</span></li>
<li>If p-value <span class="math inline">\(&gt; \alpha \Rightarrow\)</span> don’t reject <span class="math inline">\(H_0\)</span></li>
</ul></li>
</ol>
<div class="fragment">
<ol start="2" type="1">
<li>Looking at some statistic of the sample <span class="math inline">\(T(X)\)</span>, by fixing <span class="math inline">\(\alpha\)</span> at some “significance level”, extract a critical value <span class="math inline">\(C\)</span> and compare to it:
<ul>
<li>If <span class="math inline">\(T(X) \ge C \Rightarrow\)</span> reject <span class="math inline">\(H_0\)</span></li>
<li>If <span class="math inline">\(T(X) &lt; C \Rightarrow\)</span> don’t reject <span class="math inline">\(H_0\)</span></li>
</ul></li>
</ol>
<p>(for a one-sided hypothesis)</p>
</div>
<aside class="notes">
<div style="direction:rtl; font-size:16px">
<p>האם אנחנו תמיד שולטים על הטעויות מסדר ראשון ושני? לא בהכרח.</p>
<p>יש שתי גישות מקובלות לבדיקת השערות. התחלנו בראשונה, שבה ערכנו ניסוי כמו דגימה של ציורים, חישבנו את ערך הpvalue, הסיכוי לקבל תוצאה חריגה כמו שהתקבלה במדגם או יותר תחת השערת האפס. ואז השווינו את הערך הזה לאיזשהו סף שכעת נקרא לו אלפא, או רמת המובהקות. אם הpvalue קטן מאלפא נדחה את H0, ואם לא, לא נדחה.</p>
<p>דרך אחרת לבדוק השערות היא קודם כל לקבע את ערך האלפא, הסיכוי לטעות מסוג ראשון שמעניין אותנו. ואם אנחנו יודעים מראש איך מתפלג איזשהו סטטיסטי של המדגם שלנו, T(X), לדוגמא ממוצע המדגם: נוכל לחלץ ממנו מהו הערך הקריטי המקסימלי שהוא יכול להיות כדי לשמור על אלפא, איזשהו ערך C. רק כעת נבצע את הניסוי, נחשב את הסטטיסטי שלנו, ונקבל מבחן כזה: אם הסטטיסטי שלנו, לדוגמא ממוצע המדגם גדול מC, אז הוא מרשים מספיק וזו דחייה של השערת האפס. ואם לא אז לא נדחה את השערת האפס. כל זה נכון כמובן להשערה חד-צדדית, בהשערה דו-צדדית נסתכל על הסטטיסטי בערך מוחלט.</p>
</div>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section class="slide level2">

<h3 id="method-3-rejection-area">Method 3: Rejection Area</h3>
<ul>
<li><p>Denote by <span class="math inline">\(X\)</span> the number of heads in 10 tosses.</p></li>
<li><p><span class="math inline">\(X \sim Bin(10, p)\)</span>, under <span class="math inline">\(H_0: p =\frac{1}{2}\)</span></p></li>
<li><p><span class="math inline">\(T(X) = X\)</span>, the outcome itself</p></li>
</ul>
<div class="fragment">
<ul>
<li>Set <span class="math inline">\(\alpha = 0.01\)</span></li>
</ul>
</div>
<div class="fragment">
<ul>
<li>Extract <span class="math inline">\(C\)</span>: <span class="math display">\[\alpha = 0.01 \approx P(X \ge C) \Rightarrow C = 9\]</span></li>
</ul>
</div>
<div class="fragment">
<ul>
<li>If <span class="math inline">\(X \ge 9 \Rightarrow\)</span> reject <span class="math inline">\(H_0\)</span></li>
<li>If <span class="math inline">\(X &lt; 9 \Rightarrow\)</span> don’t reject <span class="math inline">\(H_0\)</span></li>
</ul>
</div>
<div class="fragment">
<ul>
<li>Got <span class="math inline">\(X = 8\)</span> in sample so not rejecting <span class="math inline">\(H_0\)</span></li>
</ul>
</div>
<div class="fragment">
<ul>
<li><strong>Crucial Question</strong>: Did we need <span class="math inline">\(H_1\)</span>?</li>
</ul>
</div>
<aside class="notes">
<div style="direction:rtl; font-size:16px">
<p>אז בדוגמת המטבע שלנו עשינו בדיקת השערות באמצעות סימולציה, ובאמצעות חישוב pvalue. בואו נבצע אותה בדרך שלישית שדיברנו עליה, דרך שבעצם קובעת לנו איזור דחייה rejection area, וכל שנותר לנו הוא לבדוק אם נפלנו באיזור הדחייה או לא.</p>
<p>נסמן שוב את תוצאת המדגם של 10 הטלות ב-X. מודל סביר לX הוא התפלגות בינומית עם סיכוי p, ותחת השערת האפס p הוא חצי, כלומר מטבע הוגן.</p>
<p>נראה שסטטיסטי המדגם הכי נוח להסתכל עליו הוא X עצמו. כעת נקבע את הסיכוי לטעות מסוג ראשון שאנחנו מעונינים לניסוי שלנו, לדוגמא 1 אחוז. המשמעות היא שאנחנו מוכנים שאם נחזור על הניסוי הרבה פעמים, גם אם המטבע הוגן, יש לנו אם נבצע את המבחן שלנו יש סיכוי של 1 למאה שנטעה ונדחה את השערת האפס.</p>
<p>ומתוך העובדה שקבענו את אלפא על 1 אחוז, נראה מהו הערך הקריטי תחת השערת האפס של מטבע הוגן, של מספר הדז שיתקבלו ב10 הטלות, שאם נקבל אותו או יותר - נגיד שנפלנו באיזור הדחייה ואנחנו דוחים את H0. חישוב זריז מההתפלגות הבינומית יראה לכם ש1 אחוז זה בערך הסיכוי לקבל 9 או 10 הדז, כשהמטבע הוגן.</p>
<p>וזהו איזו הדחייה, אם נקבל בניסוי 9 הדז ומעלה, נדחה את השערת האפס, ואם פחות לא נדחה. קיבלנו 8 הדז ולכן לא נדחה.</p>
<p>נקודה חשובה מאוד לפני שממשיכים: האם השתמשנו כאן בהשערה האלטרנטיבית H1? לא! כל החישובים עד כה היו תחת H0, כלומר לא היינו צריכים לפרט איזושהי השערה אלטרנטיבית שהסיכוי להדז הוא גדול יותר, למשל 0.8. עד כאן, היינו צריכים רק את התפלגות הייחוס, התפלגות האפס, ורצינו לראות אם אנחנו קיצוניים יחסית אליה או לא.</p>
</div>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section class="slide level2">

<h3 id="or-by-simulation">Or by simulation</h3>
<p>Back to paintings, set <span class="math inline">\(\alpha = 0.01\)</span> and extract <span class="math inline">\(C\)</span> the 99th quantile of the null:</p>
<div class="fragment">
<div class="cell" data-execution_count="18">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f'C (above which 1% of null distribution) = </span><span class="sc">{</span>np<span class="sc">.</span>quantile(null_mean_diffs, <span class="fl">0.99</span>)<span class="sc">: .2f}</span><span class="ss">'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell fragment" data-execution_count="18">
<div class="cell-output cell-output-stdout">
<pre><code>C (above which 1% of null distribution) =  23.47</code></pre>
</div>
</div>
</div>
<div class="fragment">
<p>We got 15 points difference, so.</p>
</div>
<div class="fragment">
<p>Again: Did we need <span class="math inline">\(H_1\)</span>?</p>
</div>
<aside class="notes">
<div style="direction:rtl; font-size:16px">
<p>את הגישה של איזור דחייה ניתן להחיל גם על הסימולציה שלנו של ציורים. לא היתה לנו התפלגות מדויקת אבל היתה לנו התפלגות מסומלצת באוביקט nukk_mean_diffs, שדגמנו הרבה הרבה הפרשי ממוצעים תחת השערת האפס.</p>
<p>המשמעות של קביעת אלפא מראש על 1 אחוז, וממנה לחלץ את איזור הדחיה, היא לשאול מהו האחוזון ה-99 של התפלגות זו. מהו הערך הכל כך גבוה, שמעליו אפילו אם השערת האפס נכונה הסיכוי לראות הבדל כל כך גדול בין שני מדגמים של ציורים, הוא לכל היותר 1 אחוז?</p>
<p>כאן הערך הזה הוא כ23, ואנחנו קיבלנו 15, אז לא נדחה את השערת האפס.</p>
<p>ושוב נשאל: האם היינו צריכים לפרט מהי ההשערה האלטרנטיבית H1? איזושהי אמונה או הערכה שלנו על מהו באמת ההפרש ברמת הצבע האדום בין סוגי הציורים? לא.</p>
</div>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section class="slide level2">

<h3 id="intro.-to-power">Intro. to Power</h3>
<ul>
<li>It is only when we want to calculate the power when we need a specific <span class="math inline">\(H_1\)</span>.</li>
</ul>
<div class="fragment">
<ul>
<li>In the coin example, <span class="math inline">\(X \sim Bin(10, p)\)</span>, and: <span class="math display">\[H_0: p = 0.5\]</span> <span class="math display">\[H_1: p = 0.8\]</span></li>
</ul>
</div>
<div class="fragment">
<ul>
<li>The test was set at:
<ul>
<li>If <span class="math inline">\(X \ge 9 \Rightarrow\)</span> reject <span class="math inline">\(H_0\)</span> (rejection area)</li>
<li>If <span class="math inline">\(X &lt; 9 \Rightarrow\)</span> don’t reject <span class="math inline">\(H_0\)</span></li>
</ul></li>
</ul>
</div>
<div class="fragment">
<p>Power = <span class="math inline">\(P(\text{reject } H_0 | H_1 \text{ true}) = P_{H_1}(X \ge 9) = \binom{10}{9}\cdot 0.8^9\cdot 0.2 + \binom{10}{10}\cdot 0.8^{10} = 0.376\)</span></p>
</div>
<div class="fragment">
<p>So for this test we have less than 40% chance of rejecting <span class="math inline">\(H_0\)</span> when we should!</p>
</div>
<aside class="notes">
<div style="direction:rtl; font-size:16px">
<p>מתי כן אנחנו צריכים לתת איזושהי הערכה ספציפית למהי ההשערה האלטרנטיבית H1? רק כשאנחנו רוצים לעשות חישובי עוצמה, כדי שהסיכוי שלנו לדחות את H0 אם באמת צריך יהיה כמה שיותר גדול.</p>
<p>עוד נדבר על עוצמת המבחן בהרחבה, בינתיים בואו נראה דוגמא פשוטה:</p>
<p>בניסוי המטבע נפרט שמישהו אומר לנו שהוא דווקא מאמין שהסיכוי להדז הוא 0.8, זו ההשערה האלטרנטיבית.</p>
<p>עדיין מבחן הדחייה לא קשור לH1, והסף הקריטי שנקבע עומד על 9 הדז. אם נקבל 9 הדז או יותר נדחה את H0 ואם נקבל ערך קטן יותר לא נדחה את H0.</p>
<p>במה בכל זאת הועלנו? שכעת אנחנו יכולים לחשב את העוצמה הסטטיסטית של מבחן כזה. העוצמה, היא הסיכוי ליפול באזור הדחייה, ולדחות את H0 תחת H1. במקרה שלנו זה הסיכוי לקבל 9 הדז או יותר, תחת התפלגות בינומית עם סיכוי 0.8. נציב בנוסחת ההתפלגות הבינומית ונקבל שהסיכוי הוא 38 אחוז בערך.</p>
<p>מה המשמעות? שאם נערוך את המבחן הזה הרבה פעמים, גם אם החשד שלנו נכון והמטבע איננו הוגן, והסיכוי לקבל הדז הוא למעשה 0.8, בפחות מ40 אחוז מהמבחנים נגיע למסקנה הנכונה, שהמטבע אינו הוגן. וזו - לא עוצמה גדולה בכלל.</p>
</div>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section class="slide level2">

<h3 id="or-by-simulation-1">Or by simulation?</h3>
<div class="fragment">
<p>How would we calculate the power for the paintings test?</p>
</div>
<aside class="notes">
<div style="direction:rtl; font-size:16px">
<p>ונאמר שהיינו רוצים לעשות את אותו חישוב של עוצמת המבחן בדוגמא של הציורים. שם יש לנו רק את הכלי של הסימולציה. איך היינו מחשבים את זה בצורת סימולציה? היינו צריכים לפרט איזושהי התפלגות אלטרנטיבית H1 ולסמלץ גם אותה!</p>
<p>זה, מתחיל להישמע כבר הרבה יותר מורכב, איך מסמלצים התפלגות כזאת. ונראה שנזדקק לכלים הסתברותיים קצת יותר מתקדמים על מנת לחשב את עוצמת המבחן גם במקרה של הציורים. על כך ועוד, ביחידה הבאה.</p>
</div>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>

<img src="../Intro2DS_logo_white.jpg" class="slide-logo r-stretch"><div class="footer footer-default">
<p><a href="https://intro2ds2023.github.io/mooc/" target="_blank">Intro to Data Science</a></p>
</div>
</section>
    </div>
  </div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="../libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="../libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="../libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="../libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="../libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="../libs/revealjs/plugin/reveal-chalkboard/plugin.js"></script>
  <script src="../libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="../libs/revealjs/plugin/notes/notes.js"></script>
  <script src="../libs/revealjs/plugin/search/search.js"></script>
  <script src="../libs/revealjs/plugin/zoom/zoom.js"></script>
  <script src="../libs/revealjs/plugin/math/math.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': true,
'previewLinksAuto': false,
'smaller': true,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.togglePdfExport(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleChalkboard(event)\"><kbd>b</kbd> Toggle Chalkboard</a></li>\n<li class=\"slide-tool-item\" data-item=\"5\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleNotesCanvas(event)\"><kbd>c</kbd> Toggle Notes Canvas</a></li>\n<li class=\"slide-tool-item\" data-item=\"6\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.downloadDrawings(event)\"><kbd>d</kbd> Download Drawings</a></li>\n<li class=\"slide-tool-item\" data-item=\"7\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'chalkboard': {"buttons":true},
'smaller': true,
 
        // Display controls in the bottom right corner
        controls: false,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: 'c/t',

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'none',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'none',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1050,

        height: 700,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        math: {
          mathjax: 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, RevealChalkboard, QuartoSupport,

          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    <script id="quarto-html-after-body" type="application/javascript">
    window.document.addEventListener("DOMContentLoaded", function (event) {
      const toggleBodyColorMode = (bsSheetEl) => {
        const mode = bsSheetEl.getAttribute("data-mode");
        const bodyEl = window.document.querySelector("body");
        if (mode === "dark") {
          bodyEl.classList.add("quarto-dark");
          bodyEl.classList.remove("quarto-light");
        } else {
          bodyEl.classList.add("quarto-light");
          bodyEl.classList.remove("quarto-dark");
        }
      }
      const toggleBodyColorPrimary = () => {
        const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
        if (bsSheetEl) {
          toggleBodyColorMode(bsSheetEl);
        }
      }
      toggleBodyColorPrimary();  
      const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
      tabsets.forEach(function(tabset) {
        const tabby = new Tabby('#' + tabset.id);
      });
      const isCodeAnnotation = (el) => {
        for (const clz of el.classList) {
          if (clz.startsWith('code-annotation-')) {                     
            return true;
          }
        }
        return false;
      }
      const clipboard = new window.ClipboardJS('.code-copy-button', {
        text: function(trigger) {
          const codeEl = trigger.previousElementSibling.cloneNode(true);
          for (const childEl of codeEl.children) {
            if (isCodeAnnotation(childEl)) {
              childEl.remove();
            }
          }
          return codeEl.innerText;
        }
      });
      clipboard.on('success', function(e) {
        // button target
        const button = e.trigger;
        // don't keep focus
        button.blur();
        // flash "checked"
        button.classList.add('code-copy-button-checked');
        var currentTitle = button.getAttribute("title");
        button.setAttribute("title", "Copied!");
        let tooltip;
        if (window.bootstrap) {
          button.setAttribute("data-bs-toggle", "tooltip");
          button.setAttribute("data-bs-placement", "left");
          button.setAttribute("data-bs-title", "Copied!");
          tooltip = new bootstrap.Tooltip(button, 
            { trigger: "manual", 
              customClass: "code-copy-button-tooltip",
              offset: [0, -8]});
          tooltip.show();    
        }
        setTimeout(function() {
          if (tooltip) {
            tooltip.hide();
            button.removeAttribute("data-bs-title");
            button.removeAttribute("data-bs-toggle");
            button.removeAttribute("data-bs-placement");
          }
          button.setAttribute("title", currentTitle);
          button.classList.remove('code-copy-button-checked');
        }, 1000);
        // clear code selection
        e.clearSelection();
      });
      function tippyHover(el, contentFn) {
        const config = {
          allowHTML: true,
          content: contentFn,
          maxWidth: 500,
          delay: 100,
          arrow: false,
          appendTo: function(el) {
              return el.closest('section.slide') || el.parentElement;
          },
          interactive: true,
          interactiveBorder: 10,
          theme: 'light-border',
          placement: 'bottom-start'
        };
          config['offset'] = [0,0];
          config['maxWidth'] = 700;
        window.tippy(el, config); 
      }
      const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
      for (var i=0; i<noterefs.length; i++) {
        const ref = noterefs[i];
        tippyHover(ref, function() {
          // use id or data attribute instead here
          let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
          try { href = new URL(href).hash; } catch {}
          const id = href.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          return note.innerHTML;
        });
      }
      const findCites = (el) => {
        const parentEl = el.parentElement;
        if (parentEl) {
          const cites = parentEl.dataset.cites;
          if (cites) {
            return {
              el,
              cites: cites.split(' ')
            };
          } else {
            return findCites(el.parentElement)
          }
        } else {
          return undefined;
        }
      };
      var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
      for (var i=0; i<bibliorefs.length; i++) {
        const ref = bibliorefs[i];
        const citeInfo = findCites(ref);
        if (citeInfo) {
          tippyHover(citeInfo.el, function() {
            var popup = window.document.createElement('div');
            citeInfo.cites.forEach(function(cite) {
              var citeDiv = window.document.createElement('div');
              citeDiv.classList.add('hanging-indent');
              citeDiv.classList.add('csl-entry');
              var biblioDiv = window.document.getElementById('ref-' + cite);
              if (biblioDiv) {
                citeDiv.innerHTML = biblioDiv.innerHTML;
              }
              popup.appendChild(citeDiv);
            });
            return popup.innerHTML;
          });
        }
      }
    });
    </script>
    

</body></html>